(this["webpackJsonppurple-firebase-auth"]=this["webpackJsonppurple-firebase-auth"]||[]).push([[0],{52:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(4),o=n.n(c),i=n(26),a=n.n(i),r=n(14),s=n(79),u=n(84),l=n(81),h=n(82),d=n(83),f=n(23),j=(n(50),n(0)),b=n.n(j),p=n(1),g=(n(52),n(10));function O(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)("ILS"),a=Object(r.a)(i,2),s=a[0],u=a[1],l=Object(c.useState)("EGP"),h=Object(r.a)(l,2),d=h[0],f=h[1],j=Object(c.useState)(1),O=Object(r.a)(j,2),m=O[0],v=O[1],y=Object(c.useState)(null),x=Object(r.a)(y,2),w=x[0],S=x[1];function k(){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("amount: ".concat(m,", from: ").concat(s,", to: ").concat(d)),t="https://free.currconv.com/api/v7/convert?q=".concat(s,"_").concat(d,"&compact=ultra&apiKey=776a17a7a3ab767ee87f"),console.log(t),e.next=5,fetch(t).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){var t=Object.values(e);return t=t[0],console.log("fixed rate someone? "+t),t})).catch((function(e){console.log(e)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("calling"),e.next=3,k();case 3:t=e.sent,console.log(t),S((t*m).toFixed(3));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){fetch("http://data.fixer.io/api/symbols?access_key=".concat("523225f3b6f3a36d254febef3778e1cb")).then((function(e){return e.json()})).then((function(e){console.log("Got this result fron api in useEffect:"),console.log(e);var t=Object.keys(e.symbols);o(t),console.log(n)})).catch((function(e){console.log("There was an error getting the symbols fron api in useEffect: ".concat(e))}))}),[]),Object(c.useEffect)((function(){null!==w&&(console.log("final result has changed, now its: "+w),console.log(w),document.getElementById("resultdiv").style.visibility="visible")}),[w]);return Object(g.jsxs)("div",{className:"currencyComponent",children:[Object(g.jsx)("h1",{children:"Currency Converter"}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("p",{children:"Amount"}),Object(g.jsx)("input",{onChange:function(e){!function(e){v(e.target.value),document.getElementById("resultdiv").style.visibility="hidden"}(e)},type:"number",id:"amount-one",value:m}),Object(g.jsx)("p",{children:"From"}),Object(g.jsx)("div",{className:"currency",children:Object(g.jsx)("select",{onChange:function(e){!function(e){u(e.target.value),document.getElementById("resultdiv").style.visibility="hidden"}(e)},value:s,id:"correncyFrom",children:n.map((function(e,t){return Object(g.jsx)("option",{children:e},e)}))})}),Object(g.jsx)("p",{children:"To"}),Object(g.jsx)("div",{className:"currency",children:Object(g.jsx)("select",{onChange:function(e){!function(e){f(e.target.value),document.getElementById("resultdiv").style.visibility="hidden"}(e)},value:d,id:"correncyTo",children:n.map((function(e,t){return Object(g.jsx)("option",{children:e},e)}))})}),Object(g.jsx)("button",{onClick:function(){!function(){I.apply(this,arguments)}()},children:"Convert"}),Object(g.jsxs)("div",{id:"resultdiv",children:[m," ",s," = ",w," ",d]})]})]})}var m=Object(s.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}}));function v(){var e=m(),t=new f.a.auth.GoogleAuthProvider,n=Object(c.useState)(null),o=Object(r.a)(n,2),i=o[0],a=o[1];Object(c.useEffect)((function(){f.a.auth().onAuthStateChanged((function(e){if(e){var t=e.uid;console.log("user has signed in with user id: ".concat(t)),a(t)}else console.log("user is not signed in"),a(null)}))}),[]);return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(u.a,{position:"static",children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(h.a,{variant:"h6",className:e.title,children:"Or Arbel"}),i?Object(g.jsx)(d.a,{color:"inherit",onClick:function(){f.a.auth().signOut().then((function(){console.log("user has signed out seccessfully")})).catch((function(e){console.log("error signing out: ".concat(e))}))},children:"Sign Out"}):Object(g.jsx)(d.a,{color:"inherit",onClick:function(){f.a.auth().signInWithPopup(t).then((function(e){e.credential.accessToken,e.user,console.log("user has signed in successfuly")})).catch((function(e){var t=e.code,n=e.message,c=e.email,o=e.credential;console.log("error accured during sign in: ".concat(t,", ").concat(n,", ").concat(c,", ").concat(o))}))},children:"Sign In with Google"})]})}),i?Object(g.jsx)(O,{}):Object(g.jsx)("h3",{style:{textAlign:"center"},children:"Please sign in with your google account"})]})}n(58);f.a.apps[0]||f.a.initializeApp({apiKey:"AIzaSyASnE6ma5bDVcUBiYJCcw8kUXtqW1MVsXc",authDomain:"authentication-purple.firebaseapp.com",projectId:"authentication-purple",storageBucket:"authentication-purple.appspot.com",messagingSenderId:"998079665490",appId:"1:998079665490:web:8aca58b05c4900b2fb168b",measurementId:"G-YXNGLNZYPZ"}),a.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.e4d71e6c.chunk.js.map